"use strict";(self.webpackChunkpayangel_api_docs=self.webpackChunkpayangel_api_docs||[]).push([[350],{887:(n,e,t)=>{t.d(e,{R:()=>a,x:()=>o});var r=t(758);const s={},i=r.createContext(s);function a(n){const e=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:a(n.components),r.createElement(i.Provider,{value:e},n.children)}},5489:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"api/disbursement/single-transaction","title":"Single Disbursement Transaction","description":"This endpoint allows you to create a single disbursement transaction to transfer funds to a recipient.","source":"@site/docs/api/disbursement/single-transaction.md","sourceDirName":"api/disbursement","slug":"/api/disbursement/single-transaction","permalink":"/payangel-api-docs/docs/api/disbursement/single-transaction","draft":false,"unlisted":false,"editUrl":"https://github.com/payincgroupltd/payangel-api-docs/tree/main/docs/api/disbursement/single-transaction.md","tags":[],"version":"current","frontMatter":{"id":"single-transaction","title":"Single Disbursement Transaction","sidebar_label":"Single Transaction","slug":"/api/disbursement/single-transaction"},"sidebar":"apiSidebar","previous":{"title":"Overview","permalink":"/payangel-api-docs/docs/api/disbursement/overview"},"next":{"title":"Bulk Transactions","permalink":"/payangel-api-docs/docs/api/disbursement/bulk-transaction"}}');var s=t(6070),i=t(887);const a={id:"single-transaction",title:"Single Disbursement Transaction",sidebar_label:"Single Transaction",slug:"/api/disbursement/single-transaction"},o="Single Disbursement Transaction",c={},d=[{value:"Endpoint",id:"endpoint",level:2},{value:"Request Parameters",id:"request-parameters",level:2},{value:"Recipient Object",id:"recipient-object",level:3},{value:"Response",id:"response",level:2},{value:"Success Response",id:"success-response",level:3},{value:"Error Response",id:"error-response",level:3},{value:"Example Requests",id:"example-requests",level:2},{value:"Bank Transfer",id:"bank-transfer",level:3},{value:"JavaScript",id:"javascript",level:4},{value:"TypeScript",id:"typescript",level:4},{value:"Go",id:"go",level:4},{value:"Java",id:"java",level:4},{value:"Mobile Money Transfer",id:"mobile-money-transfer",level:3},{value:"JavaScript",id:"javascript-1",level:4},{value:"Idempotency",id:"idempotency",level:2}];function l(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"single-disbursement-transaction",children:"Single Disbursement Transaction"})}),"\n",(0,s.jsx)(e.p,{children:"This endpoint allows you to create a single disbursement transaction to transfer funds to a recipient."}),"\n",(0,s.jsx)(e.h2,{id:"endpoint",children:"Endpoint"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"POST https://api.payangel.com/v1/disbursements/single\n"})}),"\n",(0,s.jsx)(e.h2,{id:"request-parameters",children:"Request Parameters"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Parameter"}),(0,s.jsx)(e.th,{children:"Type"}),(0,s.jsx)(e.th,{children:"Required"}),(0,s.jsx)(e.th,{children:"Description"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"reference"})}),(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"Yes"}),(0,s.jsx)(e.td,{children:"Your unique reference for this transaction"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"amount"})}),(0,s.jsx)(e.td,{children:"number"}),(0,s.jsx)(e.td,{children:"Yes"}),(0,s.jsx)(e.td,{children:"Amount to be transferred"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"currency"})}),(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"Yes"}),(0,s.jsx)(e.td,{children:"Currency code (e.g., GHS, NGN, USD)"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"source_account"})}),(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"Yes"}),(0,s.jsx)(e.td,{children:"Your PayAngel account to debit"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"destination_type"})}),(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"Yes"}),(0,s.jsxs)(e.td,{children:["Type of destination (",(0,s.jsx)(e.code,{children:"bank_account"}),", ",(0,s.jsx)(e.code,{children:"mobile_money"}),", ",(0,s.jsx)(e.code,{children:"cash_pickup"}),")"]})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"recipient"})}),(0,s.jsx)(e.td,{children:"object"}),(0,s.jsx)(e.td,{children:"Yes"}),(0,s.jsx)(e.td,{children:"Recipient information"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"narration"})}),(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"Yes"}),(0,s.jsx)(e.td,{children:"Purpose of the transfer"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"callback_url"})}),(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"No"}),(0,s.jsx)(e.td,{children:"URL to receive status updates via webhook"})]})]})]}),"\n",(0,s.jsx)(e.h3,{id:"recipient-object",children:"Recipient Object"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Field"}),(0,s.jsx)(e.th,{children:"Type"}),(0,s.jsx)(e.th,{children:"Required"}),(0,s.jsx)(e.th,{children:"Description"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"name"})}),(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"Yes"}),(0,s.jsx)(e.td,{children:"Recipient's full name"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"email"})}),(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"No"}),(0,s.jsx)(e.td,{children:"Recipient's email address"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"phone"})}),(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"Yes"}),(0,s.jsx)(e.td,{children:"Recipient's phone number"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"address"})}),(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"No"}),(0,s.jsx)(e.td,{children:"Recipient's physical address"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"bank_code"})}),(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"Conditional"}),(0,s.jsx)(e.td,{children:"Required for bank transfers"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"account_number"})}),(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"Conditional"}),(0,s.jsx)(e.td,{children:"Required for bank transfers"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"mobile_network"})}),(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"Conditional"}),(0,s.jsx)(e.td,{children:"Required for mobile money transfers"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"mobile_number"})}),(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"Conditional"}),(0,s.jsx)(e.td,{children:"Required for mobile money transfers"})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"response",children:"Response"}),"\n",(0,s.jsx)(e.h3,{id:"success-response",children:"Success Response"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "status": "success",\n  "message": "Transaction created successfully",\n  "data": {\n    "transaction_id": "txn_123456789",\n    "reference": "your-reference",\n    "amount": 1000,\n    "fee": 10,\n    "total": 1010,\n    "currency": "GHS",\n    "status": "PENDING",\n    "created_at": "2023-06-15T14:30:00Z",\n    "estimated_delivery": "2023-06-15T15:30:00Z"\n  }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"error-response",children:"Error Response"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "status": "error",\n  "message": "Invalid destination account",\n  "errors": [\n    {\n      "field": "recipient.account_number",\n      "message": "Account number is invalid"\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"example-requests",children:"Example Requests"}),"\n",(0,s.jsx)(e.h3,{id:"bank-transfer",children:"Bank Transfer"}),"\n",(0,s.jsx)(e.h4,{id:"javascript",children:"JavaScript"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"const axios = require('axios');\n\nasync function createDisbursement() {\n  try {\n    const response = await axios.post('https://api.payangel.com/v1/disbursements/single', {\n      reference: 'INV-001-PAYMENT',\n      amount: 1000,\n      currency: 'GHS',\n      source_account: 'acc_123456789',\n      destination_type: 'bank_account',\n      recipient: {\n        name: 'John Doe',\n        email: 'john.doe@example.com',\n        phone: '+233501234567',\n        bank_code: 'GH123456',\n        account_number: '1234567890'\n      },\n      narration: 'Invoice payment',\n      callback_url: 'https://your-website.com/webhooks/payangel'\n    }, {\n      headers: {\n        'Authorization': 'Bearer YOUR_API_KEY',\n        'Content-Type': 'application/json'\n      }\n    });\n    \n    console.log(response.data);\n  } catch (error) {\n    console.error('Error:', error.response.data);\n  }\n}\n\ncreateDisbursement();\n"})}),"\n",(0,s.jsx)(e.h4,{id:"typescript",children:"TypeScript"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"import axios from 'axios';\n\ninterface Recipient {\n  name: string;\n  email?: string;\n  phone: string;\n  bank_code?: string;\n  account_number?: string;\n  mobile_network?: string;\n  mobile_number?: string;\n}\n\ninterface DisbursementRequest {\n  reference: string;\n  amount: number;\n  currency: string;\n  source_account: string;\n  destination_type: 'bank_account' | 'mobile_money' | 'cash_pickup';\n  recipient: Recipient;\n  narration: string;\n  callback_url?: string;\n}\n\nasync function createDisbursement() {\n  try {\n    const requestData: DisbursementRequest = {\n      reference: 'INV-001-PAYMENT',\n      amount: 1000,\n      currency: 'GHS',\n      source_account: 'acc_123456789',\n      destination_type: 'bank_account',\n      recipient: {\n        name: 'John Doe',\n        email: 'john.doe@example.com',\n        phone: '+233501234567',\n        bank_code: 'GH123456',\n        account_number: '1234567890'\n      },\n      narration: 'Invoice payment',\n      callback_url: 'https://your-website.com/webhooks/payangel'\n    };\n    \n    const response = await axios.post(\n      'https://api.payangel.com/v1/disbursements/single',\n      requestData,\n      {\n        headers: {\n          'Authorization': 'Bearer YOUR_API_KEY',\n          'Content-Type': 'application/json'\n        }\n      }\n    );\n    \n    console.log(response.data);\n  } catch (error) {\n    console.error('Error:', error.response?.data || error.message);\n  }\n}\n\ncreateDisbursement();\n"})}),"\n",(0,s.jsx)(e.h4,{id:"go",children:"Go"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n\t"bytes"\n\t"encoding/json"\n\t"fmt"\n\t"io/ioutil"\n\t"net/http"\n)\n\ntype Recipient struct {\n\tName          string `json:"name"`\n\tEmail         string `json:"email,omitempty"`\n\tPhone         string `json:"phone"`\n\tBankCode      string `json:"bank_code,omitempty"`\n\tAccountNumber string `json:"account_number,omitempty"`\n}\n\ntype DisbursementRequest struct {\n\tReference       string    `json:"reference"`\n\tAmount          float64   `json:"amount"`\n\tCurrency        string    `json:"currency"`\n\tSourceAccount   string    `json:"source_account"`\n\tDestinationType string    `json:"destination_type"`\n\tRecipient       Recipient `json:"recipient"`\n\tNarration       string    `json:"narration"`\n\tCallbackURL     string    `json:"callback_url,omitempty"`\n}\n\nfunc main() {\n\t// Create request payload\n\trequestData := DisbursementRequest{\n\t\tReference:       "INV-001-PAYMENT",\n\t\tAmount:          1000,\n\t\tCurrency:        "GHS",\n\t\tSourceAccount:   "acc_123456789",\n\t\tDestinationType: "bank_account",\n\t\tRecipient: Recipient{\n\t\t\tName:          "John Doe",\n\t\t\tEmail:         "john.doe@example.com",\n\t\t\tPhone:         "+233501234567",\n\t\t\tBankCode:      "GH123456",\n\t\t\tAccountNumber: "1234567890",\n\t\t},\n\t\tNarration:   "Invoice payment",\n\t\tCallbackURL: "https://your-website.com/webhooks/payangel",\n\t}\n\n\t// Convert to JSON\n\tjsonData, err := json.Marshal(requestData)\n\tif err != nil {\n\t\tfmt.Println("Error marshaling JSON:", err)\n\t\treturn\n\t}\n\n\t// Create request\n\turl := "https://api.payangel.com/v1/disbursements/single"\n\treq, err := http.NewRequest("POST", url, bytes.NewBuffer(jsonData))\n\tif err != nil {\n\t\tfmt.Println("Error creating request:", err)\n\t\treturn\n\t}\n\n\t// Add headers\n\treq.Header.Add("Authorization", "Bearer YOUR_API_KEY")\n\treq.Header.Add("Content-Type", "application/json")\n\n\t// Send request\n\tclient := &http.Client{}\n\tresp, err := client.Do(req)\n\tif err != nil {\n\t\tfmt.Println("Error sending request:", err)\n\t\treturn\n\t}\n\tdefer resp.Body.Close()\n\n\t// Read response\n\tbody, err := ioutil.ReadAll(resp.Body)\n\tif err != nil {\n\t\tfmt.Println("Error reading response:", err)\n\t\treturn\n\t}\n\n\tfmt.Println(string(body))\n}\n'})}),"\n",(0,s.jsx)(e.h4,{id:"java",children:"Java"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'import java.io.OutputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Scanner;\n\npublic class PayAngelDisbursement {\n    public static void main(String[] args) {\n        try {\n            // Create connection\n            URL url = new URL("https://api.payangel.com/v1/disbursements/single");\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n            conn.setRequestMethod("POST");\n            conn.setRequestProperty("Content-Type", "application/json");\n            conn.setRequestProperty("Authorization", "Bearer YOUR_API_KEY");\n            conn.setDoOutput(true);\n\n            // Create JSON payload\n            String jsonPayload = "{"\n                + "\\"reference\\": \\"INV-001-PAYMENT\\","\n                + "\\"amount\\": 1000,"\n                + "\\"currency\\": \\"GHS\\","\n                + "\\"source_account\\": \\"acc_123456789\\","\n                + "\\"destination_type\\": \\"bank_account\\","\n                + "\\"recipient\\": {"\n                + "  \\"name\\": \\"John Doe\\","\n                + "  \\"email\\": \\"john.doe@example.com\\","\n                + "  \\"phone\\": \\"+233501234567\\","\n                + "  \\"bank_code\\": \\"GH123456\\","\n                + "  \\"account_number\\": \\"1234567890\\""\n                + "},"\n                + "\\"narration\\": \\"Invoice payment\\","\n                + "\\"callback_url\\": \\"https://your-website.com/webhooks/payangel\\""\n                + "}";\n\n            // Write payload to connection\n            try (OutputStream os = conn.getOutputStream()) {\n                byte[] input = jsonPayload.getBytes(StandardCharsets.UTF_8);\n                os.write(input, 0, input.length);\n            }\n\n            // Read response\n            int responseCode = conn.getResponseCode();\n            StringBuilder response = new StringBuilder();\n            try (Scanner scanner = new Scanner(conn.getInputStream(), StandardCharsets.UTF_8.name())) {\n                while (scanner.hasNextLine()) {\n                    response.append(scanner.nextLine());\n                }\n            }\n\n            System.out.println("Response Code: " + responseCode);\n            System.out.println("Response: " + response.toString());\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"mobile-money-transfer",children:"Mobile Money Transfer"}),"\n",(0,s.jsx)(e.h4,{id:"javascript-1",children:"JavaScript"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"const axios = require('axios');\n\nasync function createMobileMoneyDisbursement() {\n  try {\n    const response = await axios.post('https://api.payangel.com/v1/disbursements/single', {\n      reference: 'MOMO-PAYMENT-001',\n      amount: 500,\n      currency: 'GHS',\n      source_account: 'acc_123456789',\n      destination_type: 'mobile_money',\n      recipient: {\n        name: 'Jane Smith',\n        phone: '+233507654321',\n        mobile_network: 'MTN',\n        mobile_number: '0507654321'\n      },\n      narration: 'Mobile money transfer',\n      callback_url: 'https://your-website.com/webhooks/payangel'\n    }, {\n      headers: {\n        'Authorization': 'Bearer YOUR_API_KEY',\n        'Content-Type': 'application/json'\n      }\n    });\n    \n    console.log(response.data);\n  } catch (error) {\n    console.error('Error:', error.response.data);\n  }\n}\n\ncreateMobileMoneyDisbursement();\n"})}),"\n",(0,s.jsx)(e.h2,{id:"idempotency",children:"Idempotency"}),"\n",(0,s.jsx)(e.p,{children:"To prevent duplicate transactions, you should use your own unique reference for each transaction. If you submit multiple requests with the same reference, only the first one will be processed, and subsequent requests will return the result of the original request."})]})}function u(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(l,{...n})}):l(n)}}}]);