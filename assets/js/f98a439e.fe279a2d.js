"use strict";(self.webpackChunkpayangel_api_docs=self.webpackChunkpayangel_api_docs||[]).push([[404],{887:(e,i,n)=>{n.d(i,{R:()=>r,x:()=>c});var t=n(758);const s={},d=t.createContext(s);function r(e){const i=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(d.Provider,{value:i},e.children)}},7853:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>c,default:()=>o,frontMatter:()=>r,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"api/cash-pickup/verify-identity","title":"Verify Beneficiary Identity","description":"After claiming a transaction, this endpoint allows the agent to verify the beneficiary\'s identity by submitting their identification document details.","source":"@site/docs/api/cash-pickup/verify-identity.md","sourceDirName":"api/cash-pickup","slug":"/api/cash-pickup/verify-identity","permalink":"/payangel-api-docs/docs/api/cash-pickup/verify-identity","draft":false,"unlisted":false,"editUrl":"https://github.com/payincgroupltd/payangel-api-docs/tree/main/docs/api/cash-pickup/verify-identity.md","tags":[],"version":"current","frontMatter":{"id":"verify-identity","title":"Verify Beneficiary Identity","sidebar_label":"Verify Identity"},"sidebar":"apiSidebar","previous":{"title":"Claim Transaction","permalink":"/payangel-api-docs/docs/api/cash-pickup/claim-transaction"},"next":{"title":"Payout","permalink":"/payangel-api-docs/docs/api/cash-pickup/payout"}}');var s=n(6070),d=n(887);const r={id:"verify-identity",title:"Verify Beneficiary Identity",sidebar_label:"Verify Identity"},c="Verify Beneficiary Identity",l={},a=[{value:"Endpoint",id:"endpoint",level:2},{value:"Request",id:"request",level:2},{value:"Request Parameters",id:"request-parameters",level:3},{value:"Response",id:"response",level:2},{value:"Response Fields",id:"response-fields",level:3},{value:"ID Types",id:"id-types",level:2},{value:"Failure Reasons",id:"failure-reasons",level:2},{value:"Next Steps",id:"next-steps",level:2}];function h(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"verify-beneficiary-identity",children:"Verify Beneficiary Identity"})}),"\n",(0,s.jsx)(i.p,{children:"After claiming a transaction, this endpoint allows the agent to verify the beneficiary's identity by submitting their identification document details."}),"\n",(0,s.jsx)(i.h2,{id:"endpoint",children:"Endpoint"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:"POST /confirmBeneficiaryIdentity\n"})}),"\n",(0,s.jsx)(i.h2,{id:"request",children:"Request"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-json",children:'{\n  "ConfirmBenefIdentity": {\n    "RequestHeader": {\n      "SessionIdentity": {\n        "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."\n      }\n    },\n    "RequestBody": {\n      "agent_id": "AG1001",\n      "trans_ref": "PC10007428",\n      "id_type": "DRIVING_LICENSE",\n      "id_number": "123456788",\n      "expiry_date": "2026-09-09",\n      "city": "Kent",\n      "country": "United Kingdom",\n      "status": 1,\n      "failure_reason": "OTHER",\n      "other_reason": "Optional explanation for failure"\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(i.h3,{id:"request-parameters",children:"Request Parameters"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Parameter"}),(0,s.jsx)(i.th,{children:"Type"}),(0,s.jsx)(i.th,{children:"Required"}),(0,s.jsx)(i.th,{children:"Description"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"agent_id"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:"Yes"}),(0,s.jsx)(i.td,{children:"The unique identifier for the agent"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"trans_ref"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:"Yes"}),(0,s.jsx)(i.td,{children:"Transaction reference"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"id_type"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:"Yes"}),(0,s.jsx)(i.td,{children:"Type of ID document presented (NATIONAL_ID, PASSPORT, DRIVING_LICENSE)"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"id_number"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:"Yes"}),(0,s.jsx)(i.td,{children:"Identification document number"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"expiry_date"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:"Yes"}),(0,s.jsx)(i.td,{children:"Expiration date of the ID document (YYYY-MM-DD)"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"city"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:"Yes"}),(0,s.jsx)(i.td,{children:"City on the ID document or where verification is taking place"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"country"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:"Yes"}),(0,s.jsx)(i.td,{children:"Country on the ID document or where verification is taking place"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"status"})}),(0,s.jsx)(i.td,{children:"Integer"}),(0,s.jsx)(i.td,{children:"Yes"}),(0,s.jsx)(i.td,{children:"Verification status (1=Success, 0=Failed)"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"failure_reason"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:"Conditional"}),(0,s.jsx)(i.td,{children:"Required if status=0. Options: ID_EXPIRED, ID_INVALID, PHOTO_MISMATCH, OTHER"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"other_reason"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:"Conditional"}),(0,s.jsx)(i.td,{children:"Required if failure_reason=OTHER. Free text explanation"})]})]})]}),"\n",(0,s.jsx)(i.h2,{id:"response",children:"Response"}),"\n",(0,s.jsx)(i.p,{children:"A successful response will confirm that the identity verification was processed:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-json",children:'{\n  "ConfirmBenefIdentity": {\n    "ResponseHeader": {\n      "ResultCode": "00000001",\n      "ResultDescription": "Identity details submitted successfully"\n    },\n    "ResponseBody": "Identity details submitted successfully"\n  }\n}\n'})}),"\n",(0,s.jsx)(i.h3,{id:"response-fields",children:"Response Fields"}),"\n",(0,s.jsx)(i.p,{children:"The response body contains a simple success message confirming that the identity details have been submitted successfully."}),"\n",(0,s.jsx)(i.h2,{id:"id-types",children:"ID Types"}),"\n",(0,s.jsx)(i.p,{children:"The following ID types are supported for beneficiary verification:"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"ID Type"}),(0,s.jsx)(i.th,{children:"Description"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"NATIONAL_ID"})}),(0,s.jsx)(i.td,{children:"National identification card"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"PASSPORT"})}),(0,s.jsx)(i.td,{children:"International passport"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"DRIVING_LICENSE"})}),(0,s.jsx)(i.td,{children:"Driver's license"})]})]})]}),"\n",(0,s.jsx)(i.h2,{id:"failure-reasons",children:"Failure Reasons"}),"\n",(0,s.jsx)(i.p,{children:"When identity verification fails (status=0), you must provide one of the following failure reasons:"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Reason"}),(0,s.jsx)(i.th,{children:"Description"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"ID_EXPIRED"})}),(0,s.jsx)(i.td,{children:"The ID document has expired"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"ID_INVALID"})}),(0,s.jsx)(i.td,{children:"The ID document appears invalid or tampered with"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"PHOTO_MISMATCH"})}),(0,s.jsx)(i.td,{children:"The photo on the ID doesn't match the beneficiary"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"OTHER"})}),(0,s.jsx)(i.td,{children:"Other reason (specify in other_reason field)"})]})]})]}),"\n",(0,s.jsx)(i.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["If verification is successful, proceed to the ",(0,s.jsx)(i.a,{href:"/docs/api/cash-pickup/payout",children:"Payout Transaction"})," endpoint"]}),"\n",(0,s.jsxs)(i.li,{children:["If verification fails, use the ",(0,s.jsx)(i.a,{href:"/docs/api/cash-pickup/abort",children:"Abort Transaction"})," endpoint"]}),"\n"]})]})}function o(e={}){const{wrapper:i}={...(0,d.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);